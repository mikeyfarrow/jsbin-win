{
  "name": "feature-gateway",
  "version": "0.0.3",
  "description": "Simple, memory and JS based feature testing with express support",
  "main": "lib/index.js",
  "directories": {
    "test": "test"
  },
  "scripts": {
    "test": "node_modules/mocha/bin/_mocha --ui bdd test/**/*.test.js"
  },
  "keywords": [
    "feature",
    "flags"
  ],
  "author": {
    "name": "Remy Sharp"
  },
  "license": "MIT / http://rem.mit-license.org",
  "repository": {
    "type": "git",
    "url": "git://github.com/remy/feature-gateway.git"
  },
  "devDependencies": {
    "mocha": "~1.16.2",
    "supertest": "~0.8.3",
    "express": "~3.4.7",
    "undefsafe": "0.0.1"
  },
  "readme": "# Feature Gateway\n\nSimple, memory and JS based feature testing with [express](http://expressjs.com) support.\n\n## Usage\n\nSimple usage:\n\n### flags.js\n\n```js\nmodule.exports = {\n  'beta': function (user) {\n    return user.beta;\n  },\n  '10%': function (user) {\n    return user.id % 10 === 0;\n  }\n}\n```\n\n### app.js\n\n```js\n'use strict';\n\nvar flags = require('./flags');\nvar features = require('./lib')(flags);\n\nvar user = { beta: true }; // usually from a database\n\n\nif (features('beta', user)) {\n  // show beta features\n}\n\n```\n\n## Usage with express routes\n\nThe feature gateway can be used with express to block or grant access to\nparticular routes:\n\n### flags.js\n\n```js\nmodule.exports = {\n  'beta': function (req) { // also recieves res & next\n    return req.session.user.beta; // content set from some other middleware\n  },\n  '10%': function (req) {\n    return req.session.user.id % 10 === 0;\n  }\n}\n```\n\n### routes.js\n\n```js\napp.get('/home', features.route('beta'), function (req, res) {\n  // send the redesigned beta homepage\n  res.render('home-v2');\n});\n\napp.get('/home', function (req, res) {\n  // send the regular homepage\n  res.render('home');\n});\n```\n\n## Logging\n\nYou can attach a logger, and you'll get the data about the feature test:\n\n```js\n\nvar features = new Features(flags);\n\nfeatures.log = function (flag, response, args) {\n  console.log('Flag: ' + flag);\n  console.log('Response: ' + response);\n  console.log('Arguments to flag test: ' + JSON.stringify(args));\n}\n```\n\n## License\n\nMIT / [http://rem.mit-license.org](http://rem.mit-license.org)\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/remy/feature-gateway/issues"
  },
  "homepage": "https://github.com/remy/feature-gateway",
  "_id": "feature-gateway@0.0.3",
  "_shasum": "03198a761e8cbbe64cbb8ef383d96e8715549aa3",
  "_from": "feature-gateway@0.0.3",
  "_resolved": "https://registry.npmjs.org/feature-gateway/-/feature-gateway-0.0.3.tgz"
}
