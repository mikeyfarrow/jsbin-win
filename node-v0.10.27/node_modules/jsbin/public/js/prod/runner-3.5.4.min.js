!function(a,b){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),"".trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=obj.__proto__||obj.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])}),function(){function a(){}var b=[].slice;Function.prototype.bind||(Function.prototype.bind=function(c){var d=this;if("function"!=typeof d)throw new TypeError("Function.prototype.bind called on incompatible "+d);var e=b.call(arguments,1),f=function(){if(this instanceof f){var a=d.apply(this,e.concat(b.call(arguments)));return Object(a)===a?a:this}return d.apply(c,e.concat(b.call(arguments)))};return d.prototype&&(a.prototype=d.prototype,f.prototype=new a,a.prototype=null),f})}();var c=function(){var a=function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:1},b=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};return function c(d,e,f){var g,h,i="",j=[];if(f=f||"",e=e||[],null===d)return"null";if("undefined"==typeof d)return"undefined";try{i={}.toString.call(d)}catch(k){i="[object Object]"}if("[object Number]"==i)return""+d;if("[object Boolean]"==i)return d?"true":"false";if("[object Function]"==i)return d.toString().split("\n  ").join("\n"+f);if("[object String]"==i)return'"'+b(d.replace(/"/g,'\\"'))+'"';for(h=0;h<e.length;h++)if(d===e[h])return"[circular "+i.slice(1)+("outerHTML"in d?" :\n"+b(d.outerHTML).split("\n").join("\n"+f):"");if(e.push(d),"[object Array]"==i){for(g=0;g<d.length;g++)j.push(c(d[g],e));return"["+j.join(", ")+"]"}if(i.match(/Array/))return i;var l=i+" ",m=f+"  ";if(f.length/2<2){var n=[];try{for(g in d)n.push(g)}catch(k){}for(n.sort(a),g=0;g<n.length;g++)try{j.push(m+n[g]+": "+c(d[n[g]],e,m))}catch(k){}}return j.length?l+"{\n"+j.join(",\n")+"\n"+f+"}":l+"{ ... }"}}(),d=function(a,b){a.insertBefore(b,a.firstChild)},e=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,function(){return d.call(b,a.event)})};a.location.origin||(a.location.origin=a.location.protocol+"//"+a.location.host);var f=function(a,b){var c=function(){var d=this,e=arguments;c.cancel(),c.timer=setTimeout(function(){a.apply(d,e)},b)};return c.cancel=function(){clearTimeout(c.timer)},c},g=function(a){return(a||"").replace(/[<&]/g,function(a){return{"&":"&amp;","<":"&lt;"}[a]})},h=function(a){return a.contentWindow||a.contentDocument.parentWindow},i=function(){var b=function(){},c={};return c.counters={},c.rewriteLoops=function(a,c){var d=[],e=a.split("\n"),f=/\b(for|while|do)\b/;c||(c=0);var g="window.runnerWindow.protect",h={},i=function(a,b){return";"+g+"({ line: "+a+", reset: true });\n"+b};return e.forEach(function(a,j){var k=0,l=j,m=j-c+1,n="",o=!1,p=(a.match(f)||[null,""])[1],q=0;if(!h[j])if(p&&-1===a.indexOf("jsbin")){for(b("\n"),k=a.indexOf(p);--k>-1;){if(n=a.substr(k,1),'"'===n||"'"===n||"."===n)return b("- exit: matched inside a string or property key"),d.push(a),void 0;if(("/"===n||"*"===n)&&(--k,"/"===n))return b("- exit: part of a comment"),d.push(a),void 0}if(j>0){var r=j,s=1,t=-1,u=-1;do if(r-=1,b("looking backwards "+e[r]),t=e[r].indexOf("*/"),u=e[r].indexOf("/*"),-1!==t&&s++,-1!==u&&(s--,0===s))return b("- exit: part of a multiline comment"),d.push(a),void 0;while(0!==r)}for(k=a.indexOf(p)+p.length;k<a.length;){if(n=a.substr(k,1),b(n,k),"("===n&&q++,")"===n&&(q--,0===q&&o===!1&&(o=k)),0===q&&(";"===n||"{"===n))return";"===n?j!==l?(b("- multiline inline loop"),d[l]=d[l].substring(0,o+1)+"{\nif ("+g+"({ line: "+m+" })) break;\n",a+="\n}\n"):(b("- single line inline loop"),a=a.substring(0,o+1)+"{\nif ("+g+"({ line: "+m+" })) break;\n"+a.substring(o+1)+"\n}\n"):"{"===n&&(b("- multiline with braces"),a=a.substring(0,k+1)+";\nif ("+g+"({ line: "+m+" })) break;\n"+a.substring(k+1)),j===l?(b("- simple reset insert"),a=i(m,a)):(b("- reset inserted above original line"),d[l]=i(m,d[l])),d.push(a),void 0;k++,k===a.length&&j<e.length-1&&(b("- moving to next line"),d.push(a),j++,a=e[j],h[j]=!0,k=0)}}else d.push(a)}),d.join("\n")},c.protect=function(b){c.counters[b.line]=c.counters[b.line]||{};var d=c.counters[b.line];if(b.reset&&(d.time=+new Date),+new Date-d.time>100){var e="Exiting suspicious and potentially infinite loop at line "+b.line;return a.proxyConsole?a.proxyConsole.error(e):console.error(e),!0}return!1},c.reset=function(){c.counters={}},c}();"undefined"!=typeof exports&&(module.exports=i);var j=function(){var b=!0;try{a.console.log("runner")}catch(d){b=!1}var e={};e.stringifyArgs=function(a){for(var b,d=[],e=0,f=a.length;f>e;e++)b=a[e],"undefined"==typeof b?d.push("undefined"):d.push(g(c(b)));return d};var f=["debug","error","info","log","warn","dir","props"];return f.forEach(function(b){e[b]=function(){var c=[].slice.call(arguments),d=e.stringifyArgs(c);m.postMessage("console",{method:b,args:d}),a.console&&(console[b]||(b="log"),console[b].apply(console,c))}}),e}(),k=function(){var a={};return a.blockingMethods={kill:"<script>try{window.open=function(){};window.print=function(){};window.alert=function(){};window.prompt=function(){};window.confirm=function(){};}catch(e){}</script>",restore:"<!--jsbin live harness--><script>try{delete window.print;delete window.alert;delete window.prompt;delete window.confirm;delete window.open;}catch(e){}</script>"},a.getDoctype=function(){var a=/<!doctype [\s\S]*?>/i;return function(b){var c=(b.match(a)||[""])[0],d=b.substr(c.length);return{doctype:c,tail:d}}}(),a.debug=function(a){return"<pre>"+a.replace(/[<>&]/g,function(a){return"<"==a?"&lt;":">"==a?"&gt;":'"'==a?"&quot;":void 0})+"</pre>"},a.render=function(b,c){c=c||[],b=b||"";var d=[],e=c.requested!==!0,f=c.includeJsInRealtime===!1;e&&f&&(b=b.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),b=b.replace(/(<.*?\s)(autofocus)/g,"$1");var g=a.getDoctype(b),h=g.doctype;return b=g.tail,d.push(h),e&&c.includeJsInRealtime&&d.push(a.blockingMethods.kill),d.push(b),e&&c.includeJsInRealtime&&d.push(a.blockingMethods.restore),c.debug?a.debug(d.join("\n")):d.join("\n")},a}();"undefined"!=typeof exports&&(module.exports=k);var l=function(){var a={};return a.target=null,a.old=null,a.active=null,a.guid=+new Date,a.create=function(){var c=b.createElement("iframe");return c.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"),c.setAttribute("frameBorder","0"),c.id=a.guid++,c},a.use=function(b,c){if(!a.target)throw new Error("Sandbox has no target element.");a.old=a.active,a.saveState(a.old),a.active=b,d(a.target,b),setTimeout(c||"",0),e(b,"load",function(){for(var b,c=a.target.getElementsByTagName("iframe"),d=c.length,e=0,f=a.active.id;b=c[e],d>e;e++)b.id!==f&&b.parentNode.removeChild(b)})},a.restoreState=function(a,b){if(!a)return{};var c=h(a);return c?(b.scroll&&c.scrollTo(b.scroll.x,b.scroll.y),void 0):{}},a.saveState=function(a){if(!a)return{};var b=h(a);return b?{scroll:{x:b.scrollX,y:b.scrollY}}:{}},a.wrap=function(b,c){b&&(c=c||{},e(b,"resize",f(function(){m.postMessage("resize",a.getSizeProperties(b))},25)),m.postMessage("resize",a.getSizeProperties(b)),e(b,"focus",function(){m.postMessage("focus")}))},a.getSizeProperties=function(a){return{width:a.innerWidth||a.document.documentElement.clientWidth,height:a.innerHeight||a.document.documentElement.clientHeight,offsetWidth:a.document.documentElement.offsetWidth,offsetHeight:a.document.documentElement.offsetHeight}},a.eval=function(b){if(!a.active)throw new Error("Sandbox has no active iframe.");var c=a.active.contentWindow,d=null,e="log";try{d=c.eval(b)}catch(f){d=f.message,e="error"}return j[e](d)},a.injectScript=function(b,c){if(!a.active)throw new Error("Sandbox has no active iframe.");var d=a.active.contentWindow,e=d.document,f=e.createElement("script");f.src=b,f.onload=function(){c()},f.onerror=function(){c('Failed to load "'+b+'"')},e.body.appendChild(f)},a.injectDOM=function(b,c){if(!a.active)throw new Error("Sandbox has no active iframe.");var d=a.active.contentWindow,e=d.document;try{e.body.innerHTML=b}catch(f){c("Failed to load DOM.")}c()},a}(),m=function(){var b={};return b.parent={},b.parent.origin="*",b.error=function(){var b=["Runner:"].concat([].slice.call(arguments));return"console"in a?(a.console.error.apply(console,b),void 0):alert(b.join(" "))},b.handleMessage=function(a){if(a.origin){var c=a.data;try{c=JSON.parse(a.data)}catch(d){return b.error("Error parsing event data:",d.message)}if("function"!=typeof b[c.type])return b.error("No matching event handler:",c.type);b.parent.source=a.source;try{b[c.type](c.data)}catch(d){b.error(d.message)}}},b.postMessage=function(a,c){return b.parent.source?(b.parent.source.postMessage(JSON.stringify({type:a,data:c}),b.parent.origin),void 0):b.error("No postMessage connection to parent window.")},b.render=function(a){var b=l.create(a.options);l.use(b,function(){var c=b.contentDocument,d=h(b);c||(c=d.document);var e=k.render(a.source,a.options);c.open(),c.write(""),d.runnerWindow={proxyConsole:j,protect:i.protect},i.reset(),c.write(e),c.close(),l.wrap(d,a.options)})},b["console:run"]=function(a){l.eval(a)},b["console:load:script"]=function(a){l.injectScript(a,function(c){return c?b.postMessage("console:load:script:error",c):(b.postMessage("console:load:script:success",a),void 0)})},b["console:load:dom"]=function(a){l.injectDOM(a,function(a){return a?b.postMessage("console:load:dom:error",a):(b.postMessage("console:load:dom:success"),void 0)})},b}();a.onload=function(){if(!a.postMessage){var c=b.createElement("iframe");return c.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"),c.setAttribute("frameBorder","0"),b.body.appendChild(c),c.src=a.name,void 0}l.target=b.getElementById("sandbox-wrapper"),e(a,"message",m.handleMessage)}}(this,document);